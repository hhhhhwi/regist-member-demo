# 요구사항 문서

## 소개

교사 주문 등록 시스템은 교사들이 고객을 등록하고 모델을 선택하여 주문을 등록할 수 있는 3단계 웹 기반 시스템입니다. 기존의 로그인 시스템을 기반으로 하여, 인증된 교사들이 권한에 따라 판매 가능한 모델을 구분하여 주문을 등록하고 관리할 수 있도록 합니다.

## 요구사항

### 요구사항 1

**사용자 스토리:** 교사로서, 나는 주문 등록 1단계에서 부모 정보와 자녀 정보를 모두 포함한 고객 정보를 등록하고 싶다. 그래야 주문할 고객을 정확히 식별할 수 있다.

#### 승인 기준

1. WHEN 교사가 주문 등록을 시작 THEN 시스템은 부모 정보와 자녀 정보 입력 필드를 포함한 고객 등록 페이지를 표시해야 한다
2. WHEN 교사가 부모 정보(이름, 연락처, 주소 등)와 자녀 정보(이름, 학년, 학교 등)를 입력하고 다음 단계로 진행 THEN 시스템은 입력된 모든 고객 정보를 임시 저장해야 한다
3. WHEN 교사가 부모 또는 자녀의 필수 정보를 누락하고 다음 단계로 진행 THEN 시스템은 해당 필드에 대한 유효성 검사 오류 메시지를 표시해야 한다
4. WHEN 부모 정보와 자녀 정보가 모두 유효하게 입력 THEN 시스템은 2단계(모델 선택)로 진행을 허용해야 한다
5. WHEN 교사가 고객 검색 버튼을 클릭 THEN 시스템은 기존 고객 검색 팝업을 표시해야 한다
6. WHEN 교사가 고객 검색 팝업에서 부모 이름, 자녀 이름, 또는 연락처로 검색 THEN 시스템은 일치하는 기존 고객 목록을 표시해야 한다
7. WHEN 교사가 검색된 기존 고객을 선택 THEN 시스템은 해당 고객의 부모 정보와 자녀 정보를 자동으로 입력 필드에 채워야 한다

### 요구사항 2

**사용자 스토리:** 교사로서, 나는 주문 등록 2단계에서 가입 학년을 선택하고 관리/비관리 > 패드 종류 > 모델 순서로 선택하여 가입 모델을 결정하고 싶다. 그래야 고객에게 적합한 상품을 주문할 수 있다.

#### 승인 기준

1. WHEN 교사가 2단계에 접근 THEN 시스템은 가입 학년 선택 옵션을 먼저 표시해야 한다
2. WHEN 교사가 가입 학년을 선택 THEN 시스템은 관리/비관리 선택 옵션을 활성화해야 한다
3. WHEN 교사가 관리 또는 비관리를 선택 THEN 시스템은 판매 가능한 패드 종류 목록을 표시해야 한다
4. WHEN 교사가 패드 종류를 선택 THEN 시스템은 해당 패드 종류에 맞는 모델 목록을 해당 교사의 권한에 따라 표시해야 한다
5. WHEN 교사가 모델을 선택 THEN 시스템은 해당 모델의 월회비를 실시간으로 표시해야 한다
6. WHEN 교사가 다른 모델을 선택 THEN 시스템은 월회비를 새로운 모델에 맞게 업데이트해야 한다
7. WHEN 모든 선택이 완료되고 수량을 입력 THEN 시스템은 선택된 정보(학년, 관리/비관리, 패드 종류, 모델, 월회비, 수량)를 임시 저장해야 한다
8. WHEN 교사가 수량에 0 이하의 값을 입력 THEN 시스템은 "수량은 1 이상이어야 합니다" 오류를 표시해야 한다
9. WHEN 모든 정보가 유효하게 선택 THEN 시스템은 3단계(확인)로 진행을 허용해야 한다

### 요구사항 3

**사용자 스토리:** 교사로서, 나는 주문 등록 3단계에서 등록한 고객 정보와 선택한 모델 정보를 확인하고 싶다. 그래야 최종 등록 전에 내용을 검토할 수 있다.

#### 승인 기준

1. WHEN 교사가 3단계에 접근 THEN 시스템은 1단계에서 입력한 부모 정보와 자녀 정보를 표시해야 한다
2. WHEN 확인 페이지가 표시 THEN 시스템은 2단계에서 선택한 가입 학년, 관리/비관리, 패드 종류, 모델명, 월회비, 수량, 총액을 표시해야 한다
3. WHEN 교사가 정보를 확인하고 최종 등록 THEN 시스템은 주문을 데이터베이스에 저장하고 주문번호를 생성해야 한다
4. WHEN 교사가 이전 단계로 돌아가기를 선택 THEN 시스템은 입력된 정보를 유지하며 해당 단계로 이동해야 한다

### 요구사항 4

**사용자 스토리:** 교사로서, 나는 로그인 후 메인 페이지에서 내가 등록한 주문 목록을 바로 확인하고 싶다. 그래야 주문 현황을 쉽게 파악할 수 있다.

#### 승인 기준

1. WHEN 교사가 로그인 성공 THEN 시스템은 주문 목록 페이지를 메인 페이지로 표시해야 한다
2. WHEN 주문 목록 페이지가 표시 THEN 시스템은 해당 교사가 등록한 주문만 표시해야 한다
3. WHEN 주문 목록이 표시 THEN 시스템은 주문번호, 부모명, 자녀명, 모델명, 수량, 총액, 주문일시, 상태를 포함해야 한다
4. WHEN 교사가 등록한 주문이 없는 경우 THEN 시스템은 "등록된 주문이 없습니다" 메시지와 새 주문 등록 버튼을 표시해야 한다
5. WHEN 교사가 "새 주문 등록" 버튼을 클릭 THEN 시스템은 주문 등록 1단계로 이동해야 한다
6. WHEN 교사가 특정 주문을 클릭 THEN 시스템은 부모 정보, 자녀 정보, 모델 정보를 포함한 주문 상세 정보를 표시해야 한다

### 요구사항 5

**사용자 스토리:** 교사로서, 나는 내 권한에 따라 판매 가능한 모델만 보고 싶다. 그래야 권한 밖의 모델을 실수로 선택하지 않을 수 있다.

#### 승인 기준

1. WHEN 교사가 모델 선택 페이지에 접근 THEN 시스템은 해당 교사의 권한 레벨을 확인해야 한다
2. WHEN 시스템이 권한을 확인 THEN 시스템은 권한에 맞는 모델만 선택 목록에 표시해야 한다
3. WHEN 권한이 없는 모델에 직접 접근 시도 THEN 시스템은 접근을 거부하고 권한 오류 메시지를 표시해야 한다
4. WHEN 교사의 권한이 변경 THEN 시스템은 다음 로그인 시 새로운 권한에 따른 모델 목록을 표시해야 한다

### 요구사항 6

**사용자 스토리:** 교사로서, 나는 주문 총액이 자동으로 계산되기를 원한다. 그래야 수동 계산 오류를 방지할 수 있다.

#### 승인 기준

1. WHEN 교사가 모델을 선택하고 수량을 입력 THEN 시스템은 총액(수량 × 월회비)을 실시간으로 계산하여 표시해야 한다
2. WHEN 교사가 수량을 변경 THEN 시스템은 총액을 즉시 재계산해야 한다
3. WHEN 총액이 계산 THEN 시스템은 통화 형식으로 표시해야 한다

### 요구사항 7

**사용자 스토리:** 교사로서, 나는 시스템이 안전하게 내 주문 정보를 보호하기를 원한다. 그래야 개인정보가 유출되지 않는다.

#### 승인 기준

1. WHEN 교사가 로그인하지 않은 상태에서 주문 관련 페이지에 접근 THEN 시스템은 로그인 페이지로 리다이렉트해야 한다
2. WHEN 교사가 다른 교사의 주문에 접근 시도 THEN 시스템은 접근을 거부하고 권한 오류를 표시해야 한다
3. WHEN 세션이 만료 THEN 시스템은 자동으로 로그아웃하고 로그인 페이지로 리다이렉트해야 한다